From: Ramon Diaz-Uriarte <rdiaz02@gmail.com>
To: "Bioconductor file submit tracker" <submit@bioconductor.org>
Cc: rdiaz02@gmail.com, sarora@fhcrc.org
Subject: Re: [issue952] OncoSimulR
--text follows this line--
Dear Sonali,

Thanks a lot for your detailed review. A couple of questions/comments below:

On Fri, 11-07-2014, at 04:00, Sonali Arora BioC-Submit <submit@bioconductor.org> wrote:
> Sonali Arora <sarora@fhcrc.org> added the comment:
>
> Hi Ramon,
>
> Thank you for submitting your package to Bioconductor!
>
> A note-  Please bump the version number in the DESCRIPTION file from 0.99.0 to 
> 0.99.1 before you upload the next version. Thus, when you run R CMD build on 
> your package - a tar ball with a different number will be made ( like 
> pkgName_0.99.1.tar.gz) This will make it easier for us to find the latest tar 
> ball ( instead of looking at which date/time they were uploaded - And then 
> continue to bump the z in 0.99.z for every subsequent change ...)
>

Will do.



>
> These changes are required:
> 1) description inside DESCRIPTION file:
> You currently have:
>  Functions for simulating cancer progression data, including
> 	     drivers and passengers, and allowing for order restrictions. 
>
> Please add some more details here like what do these functions do ?
> does your package have only functions for stimulating data ? if yes, 
> what model are they using to stimulate the data? what kinds of data can be 
> stimulated?
> in short, what is so special abt your stimulation algorithm (above currently 
> existing stimulation algorithms) ?
>

OK, I'll do. Something like

Functions for simulating and plotting cancer progression data, including
drivers and passengers, and allowing for order restrictions. Simulations
use continuous-time models (based on Bozic et al., 2010 and McFarland et
al., 2013) and fitness functions account for possible restrictions in the
order of accumulation of mutations.



> Every accepted Bioconductor package gets a landing page where this field is 
> pulled out from the DESCRIPTION file - so even before reading your vignette or 
> installing your package - the user will read this - so its best to state all the 
> high points of your package here.
>
> 2) sessionInfo() to vignette
>
> Please add the output of a sessionInfo() to your vignette. 
> Users using this vignette would then be able to see which version on R you have 
> used and versions of packages used by you. 
>

Will do, of course. Sorry I forgot.



> 3) data inside your package:
> Its great that you have specified the following in your man page:
>
> Poset 1101 is from Gerstung et al., 2009 (figure 2A, poset
>   2). Poset 701 is from Gerstung et al., 2011 (figure 2B, left, the
>   pancreatic cancer poset).
>
> But to make your example reproducible - Please show all transformations 
> done to the data. 
> - is it the raw data ( data from the paper without any transformations done by 
> you) included in the paper? 
> if yes, you need to state explicitly that the data is raw and that no 
> transformations were done.
> if no, show code for downloading the data, transformations and saving the data 
> as ".Rda" 
>
> eg:
> <<download>>=
> library(R.utils)
> ## download the file
> url1 <- 
> "ftp://hgdownload.cse.ucsc.edu/goldenPath/hg19/database/simpleRepeat.txt.gz"
> file <- basename(url1)
> download.file(url1, file)
> ## unzip it
> gunzip(file)
> netdata <- read.table("simpleRepeat.txt", header=FALSE, sep="\t")
> ## whatever transformations you made here!!I am making up some examples.
> ## like taking 1st 1000 rows and 1st 5 columns alone. 
> netdata <- netdata[1:1000,]
> netdata  <- netdata[,1:5]
> save(netdata, file="Hg19simpleRepeat.Rda")
> @
>
> This would ensure that 
> a) users understand the pre-processing of data done be you exactly 
> b) if they wanted to do the same with another dataset - they would just have 
> to change the url of the dataset and they have a similar dataset.
>
> Typically, I would include this code/ explanation in :
> a) man page of data 
> b) vignette( add a section called "getting and cleaning data" where I show 
> similar code for all 4 datasets in your package).
> If its too much - you add an additional 1 page vignette stating the same.



In fact, it is actually simpler than that. The original authors do not
provide, as such, data for that because this is actually very trivial. The
poset is simply a graph (that encodes the restrictions). So all I have done
is just create a simple matrix with those restrictions.

So there really is no reading of original data (nor transformation). Just
entering it by hand in a simple matrix.


I will make all this explicit both in the help of the data and in the
vignette. 


>
> These changes are optional:
> 1) add unit tests
> http://bioconductor.org/developers/how-to/unitTesting-guidelines/
>

It is in my to-do list (I have external scripts, etc, but I'll need to turn
them into proper unit tests). Probably will not be able to include them for
0.99.1, though.


> 2) add more biocViews:
> Our word-look up suggested that you can add the following biocView to your 
> package:
> Bayesian.
>

Yes, I saw the automatic recommendation from the BioC build system. But
this is not a Bayesian analysis package, even if "conjunctive bayesian
networks" are mentioned. So I am reluctant to do it.


> 3) coding style:
> * CONSIDER: Replacing tabs with 4 spaces; 1 lines (0%) contain
>       tabs.
> * CONSIDER: Indenting lines with a multiple of 4 spaces; 563 lines
>       (26%) are not.
>

I saw that, but I think this is coming from the C++ code. I'll try to get
it fixed.


> 4) styling of vignette using BiocStyle
> Most Bioconductor packages use this :
> http://bioconductor.org/packages/devel/bioc/vignettes/BiocStyle/inst/doc/LatexSt
> yle.pdf
> It takes care of all styling, formatting and rendering of package vignettes for 
> you. I even use it in my day to day work for creating better reports and 
> documents. 

I had trouble in the past with this (maybe synctex issues? I do not
remember). I'll try again. Does it work OK with knitr?



Best,


R.

>
> All in all , Great Package! Well written and well documented. 
> Please feel free to ask any questions that come to your mind.
>
> Thanks and Regards,
> Sonali Arora.
>
> ----------
> status: preview-in-progress -> sent-back
>
> __________________________________________________________
> Bioconductor file submit tracker <submit@bioconductor.org>
> <http://tracker.fhcrc.org/roundup/bioc_submit/issue952>
> __________________________________________________________


-- 
Ramon Diaz-Uriarte
Department of Biochemistry, Lab B-25
Facultad de Medicina 
Universidad Aut√≥noma de Madrid 
Arzobispo Morcillo, 4
28029 Madrid
Spain

Phone: +34-91-497-2412

Email: rdiaz02@gmail.com
       ramon.diaz@iib.uam.es

http://ligarto.org/rdiaz


